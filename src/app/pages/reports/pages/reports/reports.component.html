<div class="row" style="margin-top: 18px;">
  <div class="col-12" *ngIf="!(reportsList$ | async)">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
  <div
    class="col-md-3"
    *ngIf="reportsList$ | async"
    style="padding-left: 0px !important"
  >
    <ul
      class="list-group"
      *ngIf="(reportsList$ | async) && (currentUser$ | async)"
    >
      <li
        class="list-group-item"
        routerLinkActive="active-report"
        routerLink="/reports/{{ reportGroup.id }}"
        *ngFor="let reportGroup of (currentUser$ | async)?.userGroups"
        (click)="getReportConfigs(reportGroup.id)"
      >
        {{ reportGroup.name }}
      </li>
    </ul>
    <hr />
    <h3>Analysis tools</h3>
    <ul>
      <li routerLinkActive="active-class">
        <a href="../../../dhis-web-visualizer/index.html" target="_blank"
          >Visualizer</a
        >
      </li>
      <li routerLinkActive="active-class">
        <a href="../../../dhis-web-pivot/" target="_blank">Pivot table</a>
      </li>
    </ul>
  </div>
  <div class="col-md-9" *ngIf="reportsList$ | async">
    <div style="width: 50%" *ngIf="reportConfigs$ | async">
      <ngx-dhis2-selection-filters
        [selectionFilterConfig]="selectionFilterConfig"
        (filterUpdate)="onFilterUpdate($event)"
      >
      </ngx-dhis2-selection-filters>
    </div>
    <div
      style="margin-top: 20px; overflow: auto"
      *ngIf="
        (reportConfigs$ | async) &&
        (reportConfigs$ | async)['configs'] &&
        (reportConfigs$ | async)['configs']['htmlCodes']
      "
    >
      <app-render-report
        [report]="
          (reportConfigs$ | async) ? (reportConfigs$ | async)['configs'] : ''
        "
        [customReportDesign]="
          (reportConfigs$ | async)
            ? (reportConfigs$ | async)['configs']['htmlCodes']
            : ''
        "
      ></app-render-report>
    </div>
  </div>
</div>
